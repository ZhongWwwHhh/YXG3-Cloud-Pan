const loading=document.querySelector("iframe"),btnLogin=document.querySelector("#btnLogin"),loginName=document.querySelector("#loginname");var promiseScript,fetchScript;window.MSInputMethodContext&&document.documentMode&&((promiseScript=document.createElement("script")).type="text/javascript",promiseScript.src="https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js",(fetchScript=document.createElement("script")).type="text/javascript",fetchScript.src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js",document.head.appendChild(promiseScript),document.head.appendChild(fetchScript));const input=document.getElementById("loginname");function checkInput(e){return 16==e.length||e.length<=10&&0<e.length}function loginFail(){loading.classList.remove("loadingShow"),loading.classList.add("loadingHide"),loginName.value=""}function login(){var e=input.value;checkInput(e)?(loading.classList.remove("loadingHide"),loading.classList.add("loadingShow"),fetch("/api/account/information.php",{body:"name="+e,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){e.ok?e.json().then(function(e){"success"==e.success?(sessionStorage.lightname=e.lightname,sessionStorage.filepath=e.filepath,sessionStorage.write=e.write,window.location.pathname="/dash/"):(alert("Invalid login information"),loginFail())}):(alert("Network problem or request too frequently"),loginFail())})):(alert("Please input correctly"),loginFail())}input.addEventListener("keydown",function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("btnLogin").click())}),btnLogin.onclick=login;const html=document.querySelector("html");let currdate=new Date;6<=currdate.getHours()&&currdate.getHours()<18?html.classList.add("day"):html.classList.add("night");